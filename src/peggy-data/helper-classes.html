<link rel="import" href="../../bower_components/polymer/polymer.html">
<script>
class Item {
  constructor(amount, option) {
    this.options = [];
    this.amount = amount;
    this.selectedIndex = 0; //the one that appears on top
    this.addOption(option);

  }

  addOption({tag, price}) {
    this.options.push({
      'tag': tag,
      'price': price
    });
  }

  removeOption(index) {
    if (!index)
      index = this.selectedIndex;
    this.options.splice(index, 1);
  }

  next() {
    this.selectedIndex++;
    if (this.selectedIndex === this.options.length)
      this.selectedIndex = 0;
    return this.selected;
  }

  back() {
    this.selectedIndex--;
    if (this.selectedIndex === -1)
      this.selectedIndex = this.options.length - 1;
    return this.selected;
  }

  //the one that apears 'on top'
  get selected() {
    return this.options[this.selectedIndex];
  }

  get subtotal() {
    let price = this.selected.price * this.amount;
    return Number(price);
  }

  orderByPrice() {
    //TODO: order by price
  }
}
</script>
