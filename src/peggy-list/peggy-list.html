<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="./list-item.html">
<dom-module id="peggy-list">
  <style>
    :host {
      display: flex;
      flex-direction: column;
      align-items: stretch;

      max-width: 500px;
      margin: 8px auto;

      background-color: #FFFFFF;
      box-shadow: 1px 2px 4px #a1a1a1;
      border-radius: 2px;
    }
  </style>
  <template>
    <template is="dom-repeat" items="{{cart}}">
      <list-item item="[[item]]" on-edit="_updateCurrentEditElement"></list-item>
    </template>
  </template>
  <script>
  Polymer({
    is: 'peggy-list',
    properties: {
      cart: {
        type: Array,
      },

      total: {
        type: Number,
        notify: true,
        value: 0
      },
      _currentEditElement: Object
    },

    _updateCurrentEditElement: function(e) {
      if (this._currentEditElement && this._currentEditElement != e.target)
        this._currentEditElement._editing = false;

      this._currentEditElement = e.target;
    }
  });
  </script>
</dom-module>
